<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>PUBG Name Finder Dashboard</title>
  <style>
    body { background:#0f172a; color:white; font-family:Arial; text-align:center; padding:40px; }
    input { padding:10px; font-size:18px; border-radius:8px; border:none; width:250px; text-align:center; }
    button { padding:10px 20px; font-size:18px; border:none; background:#22c55e; color:white; border-radius:8px; cursor:pointer; }
    button:hover { background:#16a34a; }
    .result { margin-top:30px; background:#1e293b; padding:20px; border-radius:12px; display:inline-block; }
  </style>
</head>
<body>
  <h1>ğŸ® Dashboard ÙØ­Øµ Ø£Ø³Ù…Ø§Ø¡ Ù„Ø§Ø¹Ø¨ÙŠ PUBG</h1>
  <input type="text" id="playerId" placeholder="Ø£Ø¯Ø®Ù„ Player ID">
  <button onclick="checkPlayer()">ØªØ­Ù‚Ù‚</button>

  <div id="result"></div>

  <script>
    async function checkPlayer() {
      const playerId = document.getElementById("playerId").value.trim();
      const resultDiv = document.getElementById("result");
      if (!playerId) return resultDiv.innerHTML = "<p>âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Player ID.</p>";

      resultDiv.innerHTML = "<p>ğŸ” Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨...</p>";

      try {
        const response = await fetch("/api/getname", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ player_id: playerId })
        });

        const data = await response.json();
        if (data.success) {
          resultDiv.innerHTML = `
            <div class='result'>
              <h3>âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø§Ø¹Ø¨!</h3>
              <p>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${data.name}</p>
              <p>ğŸ†” Player ID: ${data.id}</p>
            </div>`;
        } else {
          resultDiv.innerHTML = `
            <div class='result'>
              <h3>âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø§Ø¹Ø¨</h3>
              <p>${data.error}</p>
            </div>`;
        }
      } catch (err) {
        resultDiv.innerHTML = `<p>ğŸš¨ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„: ${err.message}</p>`;
      }
    }
  </script>
</body>
</html>
